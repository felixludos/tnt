<!DOCTYPE html>
<html>
  <head>
    <title>a94</title>
    <link rel="shortcut icon" href="#" />
    <link rel="stylesheet" type="text/css" href="/a/css/main.css" />
    <link rel="stylesheet" type="text/css" href="/a/css/layout.css" />
    <link rel="stylesheet" type="text/css" href="/a/css/msStyles.css" />
    <link rel="stylesheet" type="text/css" href="/a/css/autocomp.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/3.12.2/js-yaml.js"></script>

    <script src="/a/js/ASender.js"></script>
    <script src="/a/js/NAssets.js"></script>
    <script src="/a/js/helpers.js"></script>
    <script src="/a/js/panzoom.js"></script>
    <script src="/a/js/NPage.js"></script>
  </head>
  <body>
    <!-- #region HTML -->
    <div id="mainDiv" class="grid_game">
      <div id="menu_area" class="grid_div" style="text-align:left;">
        <div style="float:left;margin-left:10px">
          <button class="hidden" id="bLoadScenario" onclick="onClickLoadScenario()">load scenario</button>
          <button class="hidden" id="bStartScenario" onclick="onClickStartScenario()">start scenario</button>
          <button class="hidden" id="bSkipAction" onclick="onClickSkipAction()">skip action</button>
        </div>
        <div style="float:right;margin-right:10px">
          view:
          <button id="bViewGame" onclick="page.gameView()">game</button>
          <button class="hidden" id="bViewNoReserve" onclick="page.gameView(false)">no reserve</button>
          <button id="bViewEdit" onclick="page.editView()">edit</button>
          <button id="bViewTest" onclick="page.testView()">test</button>
        </div>
      </div>
      <div id="status_area" class="grid_div" onclick="page.testView()">status</div>
      <div id="test_area" class="grid_div">
        <div class="flexdiv">
          <div class="autocomplete">
            <input id="myInput" type="text" name="myCountry" style="font-size:30px;" placeholder="command" />
          </div>
          <div class="autocomplete">
            <input id="inparam" type="text" name="inparam" style="font-size:30px;" placeholder="param" />
          </div>
          <button style="margin:10px" id="bSendMessage" onclick="onClickSendMessage()">send message</button>
          <button style="margin:10px" id="bClear" onclick="onClickClearInputs()">clear inputs</button>
        </div>
        <div style="margin:10px;text-align:left;">
          <!-- <input type="text" id="inAction" style="width:90%;font-size:30px;" placeholder="enter action"> -->
          <button id="bAddUnit" onclick="onClickAddUnit()">add unit</button>
        </div>
      </div>
      <div id="reserve_area" class="grid_div">
        <svg id="selSvg" width="60" height="760"><g id="reserveG"></g></svg>
      </div>
      <div id="map_area" class="grid_div" style="background-color:rgba(86, 182, 222);">
        <svg width="100%" height="100%" style="box-sizing:border-box;">
          <g id="mapG" viewBox="0 0 3400 2200">
            <image id="imgMap" width="3400" height="2200" href="/assets/TTmap.jpg" />
          </g>
        </svg>
      </div>
      <div id="log_area" class="grid_div" style="max-height:760px;overflow-y:scroll">
        <div id="log_all" class="hidden">all messages</div>
        <div id="log_Axis" class="hidden">Axis messages</div>
        <div id="log_USSR" class="hidden">USSR messages</div>
        <div id="log_West" class="hidden">West messages</div>
        <div id="tempDisplay" class="hidden" style="width:100%;height:100%">
          <svg width="100%" height="100%" style="box-sizing:border-box;">
            <g id="tempG"></g>
          </svg>
        </div>
      </div>
      <div id="prop_area" class="grid_div hidden">
        actions
        <button id="bEditPlaceUnits" onclick="onClickEditPlaceUnits(this)">place unit</button>
        <button id="bEditDrawCards" onclick="onClickEditDrawCards(this)">draw card</button>
        <button id="bEditDeleteUnits" onclick="onClickEditDeleteUnits(this)">delete unit</button>
        <button id="bEditDeleteCards" onclick="onClickEditDeleteCards(this)">delete card</button>
        <button id="bEditDeleteAll" onclick="onClickEditDeleteAll(this)">delete all</button>
        <button id="bEditNextPlayer" onclick="onClickEditNextPlayer(this)">next player</button>
        <button id="bEditDone" onclick="onClickEditDone(this)">done</button>
      </div>
      <div id="command_area" class="grid_div">
        <button id="bNextPlayer" class="hidden" style="width:90%;" onclick="onClickNextPlayer()">next player</button>
        <button id="bStep" class="hidden" style="width:90%;" onclick="onClickStep()">step</button>
      </div>
      <div id="chat_area" class="grid_div hidden">chat</div>
      <div id="hand_area" class="grid_div" style="height:200px">
        <svg width="100%" height="100%" style="box-sizing:border-box;">
          <g id="handG_Axis"><text x="10" y="25" fill="grey">Axis</text></g>
          <g id="handG_USSR"><text x="10" y="25" fill="red">USSR</text></g>
          <g id="handG_West"><text x="10" y="25" fill="blue">West</text></g>
        </svg>
      </div>
      <div id="cards2_area" class="grid_div" style="height:200px">
        <svg width="100%" height="100%" style="box-sizing:border-box;">
          <g id="openCardG"><text x="10" y="25" fill="grey">open</text></g>
          <g id="actionDeckG"><text x="10" y="25" fill="grey">action</text></g>
        </svg>
      </div>
      <div id="cards3_area" class="grid_div" style="height:200px">
        <svg width="100%" height="100%" style="box-sizing:border-box;">
          <g id="discardedG"><text x="10" y="25" fill="grey">discarded</text></g>
          <g id="investmentDeckG"><text x="10" y="25" fill="grey">investment</text></g>
        </svg>
      </div>
    </div>
    <!-- #endregion HTML -->
    <script>
      function present(data) {
        console.log(data);
      }

      var execOptions = {
        playerChange: "auto", // 'auto' | 'manual'
        log: "general", // 'general' | 'individual'
        mode: "nSkip" // 'step' | 'continuous' | 'nskip'
      };
      var serverData;
      var sender = new ASender();
      //sender.send('initWest');
      let player = "Axis";
      let chain = ["init/hotseat/" + player + "/1", "info/" + player, "status/" + player];
      let assets = new NAssets();
      var page = new NPage()
        .initView()
        .gameView()
        .updateGameView(player, execOptions); //handles layout
      panzoom("mapG"); //initPanZoom("mapG"); //handles pan zoom on map
      assets.initAssets(() => sender.chainSend(chain, player, present));
    </script>
  </body>
</html>
